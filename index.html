<!doctype html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Markedsoversigt (MVP)</title>
  <style>
    :root { --border:#e7e7e7; --text:#111; --muted:#666; --bg:#fff; }
    body{font-family:system-ui,Arial,sans-serif;margin:0;background:var(--bg);color:var(--text)}
    .nav{position:sticky;top:0;background:rgba(255,255,255,.92);backdrop-filter:blur(6px);border-bottom:1px solid var(--border);z-index:10}
    .nav-inner{max-width:980px;margin:0 auto;padding:10px 18px;display:flex;gap:12px;align-items:center;justify-content:space-between}
    .left{display:flex;gap:12px;align-items:center}
    .brand{font-weight:800}
    a{text-decoration:none;color:var(--text);padding:8px 10px;border-radius:10px}
    a:hover{background:#f4f4f4}
    .wrap{max-width:980px;margin:0 auto;padding:18px}
    .card{border:1px solid var(--border);border-radius:16px;padding:16px;margin:14px 0;background:#fff}
    .muted{color:var(--muted)}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .pill{display:inline-block;border:1px solid #ddd;border-radius:999px;padding:6px 10px;font-size:13px;background:#fff}
    .btn{border:1px solid #ddd;border-radius:12px;padding:10px 12px;background:#fff;cursor:pointer;font-weight:800}
    .btn:hover{background:#f6f6f6}
    .btn.primary{border-color:#111}
    .grid2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
    .stockCard{border:1px solid #eee;border-radius:14px;padding:14px}
    .stockTitle{font-size:16px;font-weight:900;margin:0 0 6px 0}
    .small{font-size:13px}
    .divider{height:1px;background:#eee;margin:14px 0}
    @media (max-width:700px){ .grid2{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <div class="nav">
    <div class="nav-inner">
      <div class="left">
        <div class="brand">Aktie-MVP</div>
        <a href="./index.html">Forside</a>
        <a href="./novo.html">Novo</a>
        <a href="./laering.html">Læring</a>
        <a href="./om.html">Om</a>
      </div>
      <div class="pill muted" id="lastUpdated">Sidst opdateret: —</div>
    </div>
  </div>

  <div class="wrap">
    <h1>Markedsoversigt (MVP)</h1>
    <p class="muted">Klikbar prototype. Ikke real-time data. Kun information/uddannelse.</p>

    <!-- AKTIER -->
    <div class="card">
      <h2>Aktier</h2>
      <p class="muted small">Vælg en aktie for at se timing-kompas, graf, scenarier og video-script.</p>

      <div class="grid2" style="margin-top:10px;">
        <div class="stockCard">
          <p class="stockTitle">Novo Nordisk</p>
          <p class="muted small" style="margin:0 0 10px 0;">Åbner aktie-siden (data/novo.json).</p>
          <div class="row">
            <a class="btn primary" href="./stock.html?t=novo">Åbn Novo</a>
            <a class="btn" href="./data/novo.json">Se data</a>
          </div>
        </div>

        <div class="stockCard">
          <p class="stockTitle">Vestas</p>
          <p class="muted small" style="margin:0 0 10px 0;">Åbner aktie-siden (data/vestas.json).</p>
          <div class="row">
            <a class="btn primary" href="./stock.html?t=vestas">Åbn Vestas</a>
            <a class="btn" href="./data/vestas.json">Se data</a>
          </div>
        </div>
      </div>

      <div class="divider"></div>
      <p class="muted small" style="margin:0;">
        Tip: Når du laver en ny datafil (fx <b>data/dsv.json</b>), kan du åbne den med
        <b>stock.html?t=dsv</b>.
      </p>
    </div>

    <!-- MARKED (DIN MVP) -->
    <div class="card">
      <h2>Vælg market state</h2>

      <div class="row" style="margin-top:10px;">
        <button class="btn" data-state="riskon">Risk-on</button>
        <button class="btn" data-state="riskoff">Risk-off</button>
        <button class="btn" data-state="trend">Trend</button>
        <button class="btn" data-state="balance">Balance</button>
        <button class="btn" id="resetBtn">Reset</button>
      </div>

      <div class="row" style="margin-top:10px;">
        <div class="pill" id="statePill">State: —</div>
        <div class="pill" id="confPill">Confidence: —</div>
      </div>

      <div class="card" style="margin-top:12px;">
        <h3 style="margin:0 0 10px 0;">Forklaring</h3>
        <ul class="muted" id="explain" style="margin:0;padding-left:18px;"></ul>
      </div>

      <div class="card" style="margin-top:12px;">
        <h3 style="margin:0 0 10px 0;">“Hvad gør man typisk?” (uddannelse)</h3>
        <p class="muted" id="typical" style="margin:0;"></p>
        <p class="muted small" style="margin-top:10px;">
          Disclaimer: Dette er ikke investeringsrådgivning. Kun information/uddannelse.
        </p>
      </div>
    </div>

  </div>

  <script>
    // Sidst opdateret (lokalt)
    (function(){
      const d = new Date();
      const pad = (n)=> String(n).padStart(2,'0');
      const ts = `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;
      document.getElementById("lastUpdated").textContent = "Sidst opdateret: " + ts;
    })();

    // Market state demo-data (samme idé som før)
    const STATES = {
      riskon: {
        name: "Risk-on",
        conf: "Middel",
        bullets: [
          "Volatilitet falder",
          "Aktieindeks bryder opad",
          "Kreditspænd strammer (proxy)"
        ],
        typical: "Mange øger gradvist risiko eller følger trenden, men styrer position sizing."
      },
      riskoff: {
        name: "Risk-off",
        conf: "Middel",
        bullets: [
          "Volatilitet stiger",
          "Aktieindeks svækkes",
          "Likviditet/risiko appetit falder (proxy)"
        ],
        typical: "Mange reducerer risiko, øger cash/defensive eksponeringer og undgår ‘svage breakouts’."
      },
      trend: {
        name: "Trend",
        conf: "Middel",
        bullets: [
          "Markedet accepterer højere/lavere priser over tid",
          "Pullbacks bliver ofte købt/soldt i trendens retning",
          "Signaler virker bedre end i range"
        ],
        typical: "Mange trader i trendens retning og bruger trailing stop under/over struktur."
      },
      balance: {
        name: "Balance",
        conf: "Middel",
        bullets: [
          "Sideways range",
          "Pris roterer omkring ‘fair value’",
          "Brud kræver ny info"
        ],
        typical: "Mange handler range (køb lavt/sælg højt) indtil der kommer et klart breakout."
      }
    };

    function setState(key){
      const s = STATES[key];
      document.getElementById("statePill").textContent = "State: " + s.name;
      document.getElementById("confPill").textContent = "Confidence: " + s.conf;

      const ul = document.getElementById("explain");
      ul.innerHTML = "";
      s.bullets.forEach(t => {
        const li = document.createElement("li");
        li.textContent = t;
        ul.appendChild(li);
      });

      document.getElementById("typical").textContent = s.typical;

      // marker aktiv knap
      document.querySelectorAll("button[data-state]").forEach(b=>{
        b.classList.toggle("primary", b.getAttribute("data-state") === key);
      });
    }

    document.querySelectorAll("button[data-state]").forEach(btn=>{
      btn.addEventListener("click", () => setState(btn.getAttribute("data-state")));
    });

    document.getElementById("resetBtn").addEventListener("click", () => {
      document.getElementById("statePill").textContent = "State: —";
      document.getElementById("confPill").textContent = "Confidence: —";
      document.getElementById("explain").innerHTML = "";
      document.getElementById("typical").textContent = "";
      document.querySelectorAll("button[data-state]").forEach(b=>b.classList.remove("primary"));
    });
  </script>
</body>
</html>
